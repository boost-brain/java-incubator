(function(t){function e(e){for(var n,i,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)i=r[u],a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},1:function(t,e){},"3fc2":function(t,e,o){"use strict";var n=o("9278"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:""}},[o("v-toolbar-title",[o("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Каталог студентов")])],1),o("v-spacer"),o("v-toolbar-items",{staticClass:"hidden-sm-and-down"},t._l(t.links,function(e){return o("v-btn",{key:e.title,attrs:{to:e.url,text:""}},[o("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),1)],1),o("v-content",[o("router-view")],1)],1)},s=[],i=o("2f62"),r={name:"App",data(){return{drawer:!0,links:[{title:"Home",icon:"home",url:"/"},{title:"Проекты",icon:"list",url:"/projects"},{title:"Студенты",icon:"supervised_user_circle",url:"/users"},{title:"Создать",icon:"create",url:"/new"}]}},methods:{loadPoints(){console.log("loadPoints()"),this.$store.resource=this.$resource("http://localhost:8080/all"),this.$store.resource.get().then(t=>t.json()).then(t=>{for(var e of t)this.addPointMutation(e)})},...Object(i["c"])(["addPointMutation","updatePointMutation","removePointsMutation"])},created(){console.log("created()"),this.loadPoints()}},c=r,l=o("2877"),d=o("6544"),u=o.n(d),p=o("7496"),v=o("40dc"),m=o("8336"),f=o("a75b"),h=o("132d"),g=o("2fa4"),b=o("2a7f"),x=Object(l["a"])(c,a,s,!1,null,null,null),j=x.exports;u()(x,{VApp:p["a"],VAppBar:v["a"],VBtn:m["a"],VContent:f["a"],VIcon:h["a"],VSpacer:g["a"],VToolbarItems:b["a"],VToolbarTitle:b["b"]});o("d1e7");var y=o("8c4f"),U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",[o("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},t._l(t.projects,function(e){return o("v-card",{key:e.projectId,staticClass:"elevation-10 mb-3"},[o("v-card-title",{attrs:{"primary-title":""}},[o("div",[o("h3",{staticClass:"headline mb-0"},[t._v(t._s(e.projectName))]),o("div",[t._v(" "+t._s(e.description)+" ")]),o("div",[t._v(" "+t._s(e.projectUrl)+" ")]),o("div",[t._v(" "+t._s(e.projectId)+" ")])])]),o("v-card-actions",[o("v-btn",{staticClass:"info",attrs:{to:"/point/"+e.projectId}},[t._v(" Открыть ")])],1)],1)}),1)],1)],1)},V=[],_={computed:{projects(){return this.$store.getters.points}}},P=_,C=o("b0af"),w=o("99d9"),M=o("a523"),I=o("0e8f"),L=o("a722"),k=Object(l["a"])(P,U,V,!1,null,null,null),A=k.exports;u()(k,{VBtn:m["a"],VCard:C["a"],VCardActions:w["a"],VCardTitle:w["c"],VContainer:M["a"],VFlex:I["a"],VLayout:L["a"]});var O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("v-app",{attrs:{id:"inspire"}},[o("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[o("v-list",{attrs:{flat:""}},[o("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.users,function(e,n){return o("v-list-item",{key:n},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),o("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.email)}})],1)],1)}),1)],1),o("v-pagination",{attrs:{length:t.pagination.total,"total-visible":t.pagination.visible},on:{input:t.next},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},$=[],N=o("28dd");n["a"].use(N["a"]);const D="http://localhost:8082/api/users";var T={count:()=>n["a"].resource(D+"/count").get(),get:t=>n["a"].resource(D+"/page/"+t+"/2").get(),add:t=>n["a"].resource(D+"/create").save(t),update:t=>n["a"].resource(D+"/update").update(t),remove:t=>n["a"].resource(D+"/delete{/email}").remove({email:t})},S={name:"Users",data(){return{item:1,pagination:{page:1,total:5,perPage:0,visible:7}}},methods:{next(t){T.get(t).then(t=>{this.setUsers(t.body)}).catch(t=>{console.log(t)})},loadUsers(t){console.log("loadUsers()"),T.get(t).then(t=>{this.setUsers(t.body)}).catch(t=>{console.log(t)}),this.getUserCount(),this.pagination.total=1+~~(this.$store.getters.getUserCount/2)},...Object(i["c"])(["addUserMutation","updateUserMutation","removeUserMutation","emptyUsers","setUsers"]),...Object(i["b"])(["getUserCount"])},computed:{users(){return this.$store.getters.users}},created(){this.emptyUsers(),this.loadUsers(1)}},R=S,B=o("8860"),E=o("da13"),F=o("5d23"),H=o("1baa"),J=o("891e"),G=Object(l["a"])(R,O,$,!1,null,"49885b8e",null),q=G.exports;u()(G,{VApp:p["a"],VCard:C["a"],VList:B["a"],VListItem:E["a"],VListItemContent:F["a"],VListItemGroup:H["a"],VListItemSubtitle:F["b"],VListItemTitle:F["c"],VPagination:J["a"]});var z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[o("v-card",{directives:[{name:"show",rawName:"v-show",value:t.isNull,expression:"isNull"}]},[o("v-card-text",[o("v-text-field",{attrs:{label:"id",readonly:""},model:{value:t.point.projectId,callback:function(e){t.$set(t.point,"projectId",e)},expression:"point.projectId"}}),o("v-text-field",{attrs:{label:"Адрес",readonly:""},model:{value:t.point.description,callback:function(e){t.$set(t.point,"description",e)},expression:"point.description"}}),o("v-text-field",{attrs:{label:"Название",readonly:""},model:{value:t.point.projectName,callback:function(e){t.$set(t.point,"projectName",e)},expression:"point.projectName"}}),o("v-text-field",{attrs:{label:"Адрес",readonly:""},model:{value:t.point.projectUrl,callback:function(e){t.$set(t.point,"projectUrl",e)},expression:"point.projectUrl"}})],1),o("v-card-actions",[o("v-spacer"),o("addEditPointModal",{attrs:{point:t.point}}),o("v-btn",{staticClass:"success ml-1",on:{click:t.removePoint}},[t._v("\n                        Удалить\n                    ")])],1)],1)],1)],1)],1)},K=[],Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{width:"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({staticClass:"warning",attrs:{text:""}},n),[t._v("Изменить")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[o("v-card",[o("v-container",[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card-title",[o("h3",{staticClass:"text--primary"},[t._v("Проект №"+t._s(this.point.projectId))])])],1)],1),o("v-divider"),o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card-text",[o("v-text-field",{attrs:{name:"projectName",label:"Наименование проекта",type:"text"},model:{value:t.editedName,callback:function(e){t.editedName=e},expression:"editedName"}}),o("v-text-field",{attrs:{name:"URL",label:"URL",type:"text"},model:{value:t.editedURL,callback:function(e){t.editedURL=e},expression:"editedURL"}}),o("v-text-field",{attrs:{name:"Description",label:"Описание",type:"text"},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1)],1),o("v-divider"),o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("Отмена")]),o("v-btn",{staticClass:"success",attrs:{text:""},on:{click:t.onSave}},[t._v("Сохранить")])],1)],1)],1)],1)],1)],1)},W=[],X={props:["point"],data(){return{modal:!1,editedID:this.point["projectId"],editedDescription:this.point.description,editedURL:this.point.projectUrl,editedName:this.point.projectName}},methods:{...Object(i["b"])(["updatePointAction"]),onCancel(){this.editedID=this.point.projectId,this.editedDescription=this.point.description,this.editedURL=this.point.projectUrl,this.editedName=this.point.projectName,this.modal=!1},onSave(){""!==this.editedID&&""!==this.editedURL&&""!==this.editedDescription&&(this.updatePointAction({projectId:this.editedID,description:this.editedDescription,projectUrl:this.editedURL,projectName:this.editedName}),this.modal=!1)}}},Y=X,Z=o("169a"),tt=o("ce7e"),et=o("8654"),ot=Object(l["a"])(Y,Q,W,!1,null,null,null),nt=ot.exports;u()(ot,{VBtn:m["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VContainer:M["a"],VDialog:Z["a"],VDivider:tt["a"],VFlex:I["a"],VLayout:L["a"],VSpacer:g["a"],VTextField:et["a"]});var at={name:"point",props:["projectId"],computed:{point(){const t=this.projectId;return this.$store.getters.pointById(t)}},components:{addEditPointModal:nt},methods:{...Object(i["b"])(["removePointAction"]),removePoint(){console.log("removePoint()"),this.removePointAction(this.point),this.$router.push("/Projects")},isNull(){return null!==this.point}}},st=at,it=(o("3fc2"),Object(l["a"])(st,z,K,!1,null,null,null)),rt=it.exports;u()(it,{VBtn:m["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["b"],VContainer:M["a"],VFlex:I["a"],VLayout:L["a"],VSpacer:g["a"],VTextField:et["a"]}),n["a"].use(y["a"]);var ct=new y["a"]({mode:"history",routes:[{path:"/",name:"base",component:A},{path:"/projects",name:"projects",component:A},{path:"/users",name:"users",component:q},{path:"/point/:id",props:!0,name:"point",component:rt}]});n["a"].use(N["a"]);var lt={add:t=>n["a"].resource("http://localhost:8080/createProject{/id}").save({},t),update:t=>n["a"].resource("http://localhost:8080/update").save(t),remove:t=>n["a"].resource("http://localhost:8080/delete{/id}").remove({id:t})};n["a"].use(i["a"]);var dt=new i["a"].Store({state:{points:[],users:[],userCount:0,isLoading:!1,resource:{}},mutations:{setUsers(t,e){t.users=e},emptyUsers(t){t.users=[]},createPoint(t,e){t.points.push(e)},addPointMutation:function(t,e){console.log("addPointMutation"),t.points=[...t.points,e]},updatePointMutation(t,e){console.log("updatePointMutation");const o=t.points.findIndex(t=>t.id===e["id"]);t.points=[...t.points.slice(0,o),e,...t.points.slice(o+1)]},removePointMutation(t,e){console.log("removePointMutation");const o=t.points.findIndex(t=>t["id"]===e["id"]);o>-1&&(t.points=[...t.points.slice(0,o),...t.points.slice(o+1)])},createUser(t,e){t.users.push(e)},addUserMutation:function(t,e){console.log("addUserMutation"),t.users=[...t.users,e]},updateUserMutation(t,e){console.log("updateUserMutation");const o=t.users.findIndex(t=>t.email===e["email"]);t.users=[...t.users.slice(0,o),e,...t.users.slice(o+1)]},removeUserMutation(t,e){console.log("removeUserMutation");const o=t.users.findIndex(t=>t["email"]===e["@email"]);o>-1&&(t.users=[...t.users.slice(0,o),...t.users.slice(o+1)])},setLoading(t,e){t.isLoading=e},setUserCount(t,e){console.log("setUserCount"),console.log(e),t.userCount=e,console.log(t.userCount)}},actions:{async loadAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var o of e)t("addPointMutation",o)}),t("setLoading",!1)},async addPointAction({commit:t,state:e},o){const n=await lt.add(o),a=await n.json(),s=e.points.findIndex(t=>t["id"]===a["@id"]);console.log(s),t(s>-1?"updatePointMutation":"addPointMutation",a)},async updatePointAction({commit:t},e){const o=await lt.update(e);console.log(e);const n=await o.json();t("updatePointMutation",n)},async removePointAction({commit:t},e){const o=await lt.remove(e.projectId);o.ok&&t("removePointMutation",e)},async loadUsersAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var o of e)t("addUserMutation",o)}),t("setLoading",!1)},async addUserAction({commit:t,state:e},o){const n=await T.add(o),a=await n.json(),s=e.users.findIndex(t=>t["id"]===a["@id"]);console.log(s),t(s>-1?"updateUserMutation":"addUserMutation",a)},async updateUserAction({commit:t},e){const o=await T.update(e);console.log(e);const n=await o.json();t("updateUserMutation",n)},async removeUserAction({commit:t},e){const o=await T.remove(e.email);o.ok&&t("removeUserMutation",e)},async getUserCount({commit:t}){console.log("getUserCount");const e=await T.count(),o=await e.json();console.log(o),t("setUserCount",o)}},getters:{getUserCount(t){return t.userCount},points(t){return t.points},users(t){return t.users},myPoints(t){return t.points},pointById(t){return e=>{return t.points.find(t=>t.id==e)}}}}),ut=o("f309");n["a"].use(ut["a"]);var pt=new ut["a"]({icons:{iconfont:"mdi"}});n["a"].use(N["a"]),n["a"].use(N["a"]),n["a"].config.productionTip=!1,new n["a"]({router:ct,store:dt,vuetify:pt,render:t=>t(j)}).$mount("#app")},9278:function(t,e,o){}});
//# sourceMappingURL=app.1a04877a.js.map