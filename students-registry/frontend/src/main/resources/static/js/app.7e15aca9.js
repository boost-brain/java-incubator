(function(t){function e(e){for(var s,n,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)n=i[d],a[n]&&p.push(a[n][0]),a[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],s=!0,i=1;i<o.length;i++){var c=o[i];0!==a[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=o[0]))}return t}var s={},a={app:0},r=[];function n(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=s,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"039a":function(t,e,o){"use strict";var s=o("fd06"),a=o.n(s);a.a},1:function(t,e){},"54d8":function(t,e,o){"use strict";var s=o("b9f9"),a=o.n(s);a.a},"56d7":function(t,e,o){"use strict";o.r(e);var s=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:""}},[o("v-toolbar-title",[o("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Каталог студентов")])],1),o("v-spacer"),o("v-toolbar-items",{staticClass:"hidden-sm-and-down"},t._l(t.links,function(e){return o("v-btn",{key:e.title,attrs:{to:e.url,text:""}},[o("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),1)],1),o("v-content",[o("router-view")],1)],1)},r=[],n=o("2f62"),i={name:"App",data(){return{drawer:!0,links:[{title:"Home",icon:"home",url:"/"},{title:"Проекты",icon:"list",url:"/projects"},{title:"Задачи",icon:"fa-solid/tasks",url:"/tasks"},{title:"Студенты",icon:"supervised_user_circle",url:"/users"},{title:"Создать",icon:"create",url:"/new"},{title:"Выход",icon:"logout",url:"/logout"}]}},methods:{...Object(n["c"])(["AUTH_LOGOUT"])}},c=i,l=o("2877"),u=o("6544"),d=o.n(u),p=o("7496"),m=o("40dc"),v=o("8336"),g=o("a75b"),h=o("132d"),f=o("2fa4"),b=o("2a7f"),j=Object(l["a"])(c,a,r,!1,null,null,null),x=j.exports;d()(j,{VApp:p["a"],VAppBar:m["a"],VBtn:v["a"],VContent:g["a"],VIcon:h["a"],VSpacer:f["a"],VToolbarItems:b["a"],VToolbarTitle:b["b"]});o("d1e7");var k=o("8c4f"),y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",[o("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},t._l(t.projects,function(e){return o("v-card",{key:e.projectId,staticClass:"elevation-10 mb-3"},[o("v-card-title",{attrs:{"primary-title":""}},[o("div",[o("h3",{staticClass:"headline mb-0"},[t._v(t._s(e.projectName))]),o("div",[t._v(" "+t._s(e.description)+" ")]),o("div",[t._v(" "+t._s(e.projectUrl)+" ")]),o("div",[t._v(" "+t._s(e.projectId)+" ")])])]),o("v-card-actions",[o("v-btn",{staticClass:"info",attrs:{to:"/project/"+e.projectId}},[t._v(" Открыть ")])],1)],1)}),1)],1)],1)},w=[],T=o("28dd");s["a"].use(T["a"]);const U="http://localhost:9000/api/projects";var _={get:()=>s["a"].resource(U+"/all").get(),add:t=>s["a"].resource(U+"/createProject{/id}").save({},t),update:t=>s["a"].resource(U+"/update").save(t),remove:t=>s["a"].resource(U+"/delete{/id}").remove({project_id:t})},V={methods:{next(){console.log("next()"),_.get().then(t=>{this.setProjects(t.body)}).catch(t=>{console.log(t)})},...Object(n["c"])(["addProjectMutation","setProjects"])},computed:{projects(){return this.$store.getters.projects}},created(){console.log("load projects ()"),this.next()}},C=V,I=o("b0af"),$=o("99d9"),A=o("a523"),M=o("0e8f"),L=o("a722"),P=Object(l["a"])(C,y,w,!1,null,null,null),O=P.exports;d()(P,{VBtn:v["a"],VCard:I["a"],VCardActions:$["a"],VCardTitle:$["c"],VContainer:A["a"],VFlex:M["a"],VLayout:L["a"]});var E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[o("v-card",{directives:[{name:"show",rawName:"v-show",value:t.isNull,expression:"isNull"}]},[o("v-card-text",[o("v-text-field",{attrs:{label:"id",readonly:""},model:{value:t.project.projectId,callback:function(e){t.$set(t.project,"projectId",e)},expression:"project.projectId"}}),o("v-text-field",{attrs:{label:"Адрес",readonly:""},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}}),o("v-text-field",{attrs:{label:"Название",readonly:""},model:{value:t.project.projectName,callback:function(e){t.$set(t.project,"projectName",e)},expression:"project.projectName"}}),o("v-text-field",{attrs:{label:"Адрес",readonly:""},model:{value:t.project.projectUrl,callback:function(e){t.$set(t.project,"projectUrl",e)},expression:"project.projectUrl"}})],1),o("v-card-actions",[o("v-spacer"),o("addEditProjectModal",{attrs:{project:t.project}}),o("v-btn",{staticClass:"success ml-1",on:{click:t.removeProject}},[t._v("\n                        Удалить\n                    ")])],1)],1)],1)],1)],1)},S=[],H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{width:"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[o("v-btn",t._g({staticClass:"warning",attrs:{text:""}},s),[t._v("Изменить")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[o("v-card",[o("v-container",[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card-title",[o("h3",{staticClass:"text--primary"},[t._v("Проект №"+t._s(this.project.projectId))])])],1)],1),o("v-divider"),o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card-text",[o("v-text-field",{attrs:{name:"projectName",label:"Наименование проекта",type:"text"},model:{value:t.editedName,callback:function(e){t.editedName=e},expression:"editedName"}}),o("v-text-field",{attrs:{name:"URL",label:"URL",type:"text"},model:{value:t.editedURL,callback:function(e){t.editedURL=e},expression:"editedURL"}}),o("v-text-field",{attrs:{name:"Description",label:"Описание",type:"text"},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1)],1),o("v-divider"),o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("Отмена")]),o("v-btn",{staticClass:"success",attrs:{text:""},on:{click:t.onSave}},[t._v("Сохранить")])],1)],1)],1)],1)],1)],1)},R=[],D={props:["project"],data(){return{modal:!1,editedID:this.project["projectId"],editedDescription:this.project.description,editedURL:this.project.projectUrl,editedName:this.project.projectName}},methods:{...Object(n["b"])(["updateProjectAction"]),onCancel(){this.editedID=this.project.projectId,this.editedDescription=this.project.description,this.editedURL=this.project.projectUrl,this.editedName=this.project.projectName,this.modal=!1},onSave(){""!==this.editedID&&""!==this.editedURL&&""!==this.editedDescription&&(this.updateProjectAction({projectId:this.editedID,description:this.editedDescription,projectUrl:this.editedURL,projectName:this.editedName}),this.modal=!1)}}},N=D,q=o("169a"),F=o("ce7e"),B=o("8654"),Q=Object(l["a"])(N,H,R,!1,null,null,null),G=Q.exports;d()(Q,{VBtn:v["a"],VCard:I["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VContainer:A["a"],VDialog:q["a"],VDivider:F["a"],VFlex:M["a"],VLayout:L["a"],VSpacer:f["a"],VTextField:B["a"]});var J={name:"project",props:["projectId"],computed:{project(){const t=this.projectId;return this.$store.getters.projectById(t)}},components:{addEditProjectModal:G},methods:{...Object(n["b"])(["removeProjectAction"]),removeProject(){console.log("removeProject()"),this.removeProjectAction(this.project),this.$router.push("/Projects")},isNull(){return null!==this.project}}},z=J,K=(o("54d8"),Object(l["a"])(z,E,S,!1,null,null,null)),W=K.exports;d()(K,{VBtn:v["a"],VCard:I["a"],VCardActions:$["a"],VCardText:$["b"],VContainer:A["a"],VFlex:M["a"],VLayout:L["a"],VSpacer:f["a"],VTextField:B["a"]});var X=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("v-app",{attrs:{id:"inspire"}},[o("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[o("v-list",{attrs:{flat:""}},[o("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.users,function(e,s){return o("v-list-item",{key:s},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),o("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.email)}})],1)],1)}),1)],1),o("v-pagination",{attrs:{length:t.pagination.total,"total-visible":t.pagination.visible},on:{input:t.next},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},Y=[];s["a"].use(T["a"]);const Z="http://localhost:9000/api/users";var tt={count:()=>s["a"].resource(Z+"/count").get(),get:t=>s["a"].resource(Z+"/page/"+t+"/2").get(),add:t=>s["a"].resource(Z+"/create").save(t),update:t=>s["a"].resource(Z+"/update").update(t),remove:t=>s["a"].resource(Z+"/delete{/email}").remove({email:t})},et={name:"Users",data(){return{item:1,pagination:{page:2,total:4,perPage:20,visible:7}}},methods:{next(t){console.log("next()"),tt.get(t).then(t=>{this.setUsers(t.body)}).catch(t=>{console.log(t)})},...Object(n["c"])(["addUserMutation","updateUserMutation","removeUserMutation","emptyUsers","setUsers"]),...Object(n["b"])(["getUserCount"])},computed:{users(){return this.$store.getters.users}},created(){this.getUserCount(),this.emptyUsers(),this.pagination.total=1+~~(this.$store.getters.getUserCount/2),this.next(1)}},ot=et,st=o("8860"),at=o("da13"),rt=o("5d23"),nt=o("1baa"),it=o("891e"),ct=Object(l["a"])(ot,X,Y,!1,null,"41bb2f97",null),lt=ct.exports;d()(ct,{VApp:p["a"],VCard:I["a"],VList:st["a"],VListItem:at["a"],VListItemContent:rt["a"],VListItemGroup:nt["a"],VListItemSubtitle:rt["b"],VListItemTitle:rt["c"],VPagination:it["a"]});var ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("v-app",{attrs:{id:"inspire"}},[o("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[o("v-list",{attrs:{flat:""}},[o("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.tasks,function(e,s){return o("v-list-item",{key:s},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),o("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.id)}})],1)],1)}),1)],1),o("v-pagination",{attrs:{length:t.pagination.total,"total-visible":t.pagination.visible},on:{input:t.next},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},dt=[];const pt="AUTH_REQUEST",mt="AUTH_SUCCESS",vt="AUTH_ERROR",gt="AUTH_LOGOUT";s["a"].use(T["a"]);const ht="http://localhost:9000/api/auth";var ft={login:t=>s["a"].resource(ht+"/login").save(t)};const bt={token:localStorage.getItem("user-token")||"",sessionId:localStorage.getItem("sessionId")||"",status:"",error:"",hasLoadedOnce:!1},jt={isAuthenticated:t=>!!t.token,authStatus:t=>t.status,getToken:t=>t.token,getSessionId:()=>bt.sessionId},xt={async AUTH_REQUEST({commit:t,state:e},o){try{console.log("AUTH_REQUEST action run.");const a=await ft.login(o);console.log("called");const r=await a.json();console.log(r),null!=r.sessionId?(e.sessionId=r.sessionId,console.log("session is not null "),console.log(e),localStorage.setItem("user-token",r),t(mt,r)):(e.error="unauth",console.log("AUTH FAILED"),t(vt,e),localStorage.removeItem("user-token"))}catch(s){console.log(s)}},[gt]:({commit:t})=>{return new Promise(e=>{t(gt),localStorage.removeItem("user-token"),e()})}},kt={[pt]:t=>{console.log("AUTH_REQUEST mutation"),t.status="loading"},[mt]:(t,e)=>{console.log("AUTH_SUCCESS mutation"),console.log(e),t.status="success",t.token=e,t.hasLoadedOnce=!0,console.log("AUTH_SUCCESS mutation OK")},[vt]:t=>{console.log("AUTH_ERROR mutation"),t.status="error",t.hasLoadedOnce=!0},[gt]:t=>{console.log("AUTH_LOGOUT mutation"),t.token=""}};var yt={state:bt,getters:jt,actions:xt,mutations:kt};s["a"].use(T["a"]),s["a"].http.interceptors.push((t,e)=>{t.headers.set("sessionId",yt.getters.getSessionId()),console.log(t),e()});const wt="http://localhost:9000/api/tasks";var Tt={count:()=>s["a"].resource(wt+"/count").get(),get:t=>s["a"].resource(wt+"/page/"+t+"/2").get(),add:t=>s["a"].resource(wt+"/create").save(t),update:t=>s["a"].resource(wt+"/update").update(t),remove:t=>s["a"].resource(wt+"/delete{/id}").remove({id:t})},Ut={name:"Tasks",data(){return{item:1,pagination:{page:2,total:4,perPage:20,visible:7}}},methods:{...Object(n["c"])(["addTaskMutation","updateTaskMutation","removeTaskMutation","emptyTasks","setTasks"]),...Object(n["b"])(["getTaskCount"]),next(t){console.log("next()"),Tt.get(t).then(t=>{console.log("response"),console.log(t),this.setTasks(t.body)}).catch(t=>{console.log("error"),console.log(t)})}},computed:{tasks(){return this.$store.getters.tasks}},created(){this.getTaskCount(),this.emptyTasks(),this.pagination.total=1+~~(this.$store.getters.getTaskCount/2),this.next(1)}},_t=Ut,Vt=Object(l["a"])(_t,ut,dt,!1,null,"1edcb2ad",null),Ct=Vt.exports;d()(Vt,{VApp:p["a"],VCard:I["a"],VList:st["a"],VListItem:at["a"],VListItemContent:rt["a"],VListItemGroup:nt["a"],VListItemSubtitle:rt["b"],VListItemTitle:rt["c"],VPagination:it["a"]});var It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[o("h1",{staticClass:"text--secondary mb-3"},[t._v("Регистрация")]),o("v-form",{ref:"form",staticClass:"mb-3",attrs:{validation:""}},[o("v-text-field",{class:{"is-invalid":t.$v.email.$error},attrs:{autocomplete:"off",name:"email",label:"Email:",type:"text","error-messages":t.$v.email.$dirty&&!t.$v.email.required?["Обязательно к заполнению"]:t.$v.email.email?[]:["Введите корректный email"]},on:{blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),o("v-text-field",{class:{"is-invalid":t.$v.gitHabId.$error},attrs:{name:"gitHabId",label:"Id на github.com:",type:"text","error-messages":t.$v.gitHabId.$dirty&&!t.$v.gitHabId.required?["Обязательно к заполнению"]:[]},on:{blur:function(e){return t.$v.gitHabId.$touch()}},model:{value:t.gitHabId,callback:function(e){t.gitHabId=e},expression:"gitHabId"}}),o("v-text-field",{class:{"is-invalid":t.$v.name.$error},attrs:{label:"Ваше имя:",name:"name",type:"text","error-messages":t.$v.name.$dirty&&!t.$v.name.required?["Обязательно к заполнению"]:[]},on:{blur:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),o("v-text-field",{class:{"is-invalid":t.$v.hours.$error},attrs:{name:"hours",label:"Сколько часов в день в среднем Вы готовы уделять проекту?","error-messages":t.$v.hours.$dirty&&!t.$v.hours.required?["Обязательно к заполнению"]:t.$v.hours.numeric?t.$v.hours.minValue?[]:["Число часов должно быть больше 1"]:["Введите числовое значение"],type:"text"},on:{blur:function(e){return t.$v.hours.$touch()}},model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}}),o("v-text-field",{class:{"is-invalid":t.$v.password.$error},attrs:{label:"Задайте пароль:","append-icon":t.show?"visibility":"visibility_off",type:t.show?"text":"password","error-messages":t.$v.password.minLength?[]:["Минимальная длина пароля 6"],required:""},on:{"click:append":function(e){t.show=!t.show},blur:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-spacer"),o("v-btn",{staticClass:"success",on:{click:t.save}},[t._v("\n                        Создать\n                    ")]),o("p"),this.error.error?o("v-alert",{attrs:{type:"error"}},[t._v("\n                        error: "+t._s(this.error)+"\n                    ")]):t._e()],1)],1)],1)],1)],1)},$t=[],At=o("b5ae"),Mt={name:"NewUser",data(){return{email:"",gitHabId:"",name:"",password:"",show:!1,error:{},hours:1,createDate:0,updateDate:0}},methods:{...Object(n["b"])(["registerAction"]),save(){if(console.log("register()"),this.$refs.form.validate()){const t={email:this.email,password:this.password,createDate:this.createDate,gitHabId:this.gitHabId,hours:this.hours,name:this.name,updateDate:this.updateDate};this.$store.dispatch("registerAction",t).then(()=>{console.log("success registration!"),this.$router.push("/login")}).catch(t=>{this.error=t.body,console.log(this.error)})}}},validations:{email:{required:At["required"],email:At["email"]},gitHabId:{required:At["required"]},name:{required:At["required"]},hours:{required:At["required"],numeric:At["numeric"],minValue:Object(At["minValue"])(1)},password:{minLength:Object(At["minLength"])(6)}}},Lt=Mt,Pt=o("0798"),Ot=o("4bd4"),Et=Object(l["a"])(Lt,It,$t,!1,null,"b6615e54",null),St=Et.exports;d()(Et,{VAlert:Pt["a"],VBtn:v["a"],VContainer:A["a"],VFlex:M["a"],VForm:Ot["a"],VLayout:L["a"],VSpacer:f["a"],VTextField:B["a"]});var Ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"inspire"}},[o("v-content",[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[o("v-card",{staticClass:"elevation-12"},[o("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[o("v-toolbar-title",[t._v("Форма входа")]),o("div",{staticClass:"flex-grow-1"})],1),o("v-card-text",[o("v-form",{attrs:{id:"login-form"},on:{submit:function(e){return e.preventDefault(),t.doLogin(e)}}},[o("v-text-field",{attrs:{label:"Пользователь","prepend-icon":"person",type:"text"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),o("v-text-field",{attrs:{id:"password",label:"Пароль","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),o("v-card-actions",[o("div",{staticClass:"flex-grow-1"}),o("router-link",{staticClass:"btn btn-link",attrs:{to:"/new"}},[t._v("Регистрация нового студента")]),o("v-btn",{attrs:{color:"primary",type:"submit",form:"login-form"}},[t._v("Вход")]),o("br")],1),o("p"),this.error.error?o("v-alert",{attrs:{type:"warning"}},[t._v("\n                            "+t._s(this.error)+"\n                        ")]):t._e()],1)],1)],1)],1)],1)],1)},Rt=[],Dt={name:"login",data(){return{login:"",password:"",error:{}}},methods:{...Object(n["b"])(["AUTH_REQUEST"]),doLogin:function(){try{console.log("login: "+this.login+" "+this.password);const e={login:this.login,password:this.password};console.log(e),this.AUTH_REQUEST(e,"user").then(()=>{this.$router.push("/"),this.error={message:"Request is unathorized",error:"AUTH_ERROR"}}).catch(t=>{this.error=t.body,console.log(this.error)})}catch(t){console.log(t)}}}},Nt=Dt,qt=(o("039a"),o("62ad")),Ft=o("0fd9"),Bt=o("71d9"),Qt=Object(l["a"])(Nt,Ht,Rt,!1,null,null,null),Gt=Qt.exports;d()(Qt,{VAlert:Pt["a"],VApp:p["a"],VBtn:v["a"],VCard:I["a"],VCardActions:$["a"],VCardText:$["b"],VCol:qt["a"],VContainer:A["a"],VContent:g["a"],VForm:Ot["a"],VRow:Ft["a"],VTextField:B["a"],VToolbar:Bt["a"],VToolbarTitle:b["b"]});var Jt={state:{users:[],userCount:0},mutations:{setUsers(t,e){console.log("setUsers mutation"),t.users=e},emptyUsers(t){t.users=[]},createUser(t,e){t.users.push(e)},addUserMutation:function(t,e){console.log("addUserMutation"),t.users=[...t.users,e]},updateUserMutation(t,e){console.log("updateUserMutation");const o=t.users.findIndex(t=>t.email===e["email"]);t.users=[...t.users.slice(0,o),e,...t.users.slice(o+1)]},removeUserMutation(t,e){console.log("removeUserMutation");const o=t.users.findIndex(t=>t["email"]===e["@email"]);o>-1&&(t.users=[...t.users.slice(0,o),...t.users.slice(o+1)])},setUserCount(t,e){console.log("setUserCount mutation"),t.userCount=e}},actions:{async loadUsersAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var o of e)t("addUserMutation",o)}),t("setLoading",!1)},async addUserAction({commit:t,state:e},o){const s=await tt.add(o),a=await s.json(),r=e.users.findIndex(t=>t["id"]===a["@id"]);t(r>-1?"updateUserMutation":"addUserMutation",a)},async updateUserAction({commit:t},e){const o=await tt.update(e);console.log(e);const s=await o.json();t("updateUserMutation",s)},async removeUserAction({commit:t},e){const o=await tt.remove(e.email);o.ok&&t("removeUserMutation",e)},async getUserCount({commit:t}){console.log("getUserCount action");const e=await tt.count(),o=await e.json();t("setUserCount",o)}},getters:{getUserCount(t){return t.userCount},users(t){return t.users}}};s["a"].use(T["a"]);const zt="http://localhost:9000/api/register";var Kt={register:t=>s["a"].resource(zt+"/create").save(t)},Wt={state:{users:[]},mutations:{registerMutation:function(t,e){console.log("registerMutation"),t.users=[...t.users,e]}},actions:{async registerAction({commit:t},e){const o=await Kt.register(e),s=await o.json();console.log(s),t("registerMutation",s)}}},Xt={state:{tasks:[],taskCount:0},mutations:{setTasks(t,e){console.log("setTasks mutation"),t.tasks=e},emptyTasks(t){t.tasks=[]},createTask(t,e){t.tasks.push(e)},addTaskMutation:function(t,e){console.log("addTaskMutation"),t.tasks=[...t.tasks,e]},updateTaskMutation(t,e){console.log("updateTaskMutation");const o=t.tasks.findIndex(t=>t.id===e["id"]);t.tasks=[...t.tasks.slice(0,o),e,...t.tasks.slice(o+1)]},removeTaskMutation(t,e){console.log("removeTaskMutation");const o=t.tasks.findIndex(t=>t["id"]===e["@id"]);o>-1&&(t.tasks=[...t.tasks.slice(0,o),...t.tasks.slice(o+1)])},setTaskCount(t,e){console.log("setTaskCount mutation"),t.taskCount=e}},actions:{async loadTasksAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var o of e)t("addTaskMutation",o)}),t("setLoading",!1)},async addTaskAction({commit:t,state:e},o){const s=await Tt.add(o),a=await s.json(),r=e.tasks.findIndex(t=>t["id"]===a["@id"]);t(r>-1?"updateTaskMutation":"addTaskMutation",a)},async updateTaskAction({commit:t},e){const o=await Tt.update(e);console.log(e);const s=await o.json();t("updateTaskMutation",s)},async removeTaskAction({commit:t},e){const o=await Tt.remove(e.id);o.ok&&t("removeTaskMutation",e)},async getTaskCount({commit:t}){console.log("getTaskCount action");const e=await Tt.count(),o=await e.json();t("setTaskCount",o)}},getters:{getTaskCount(t){return t.taskCount},tasks(t){return t.tasks}}},Yt={state:{projects:[],isLoading:!1,resource:{}},mutations:{setProjects(t,e){console.log("setProjects mutation"),t.projects=e},createProject(t,e){t.projects.push(e)},addProjectMutation:function(t,e){console.log("addProjectMutation"),t.projects=[...t.projects,e]},updateProjectMutation(t,e){console.log("updateProjectMutation");const o=t.projects.findIndex(t=>t.id===e["id"]);t.projects=[...t.projects.slice(0,o),e,...t.projects.slice(o+1)]},removeProjectMutation(t,e){console.log("removeProjectMutation");const o=t.projects.findIndex(t=>t["id"]===e["id"]);o>-1&&(t.projects=[...t.projects.slice(0,o),...t.projects.slice(o+1)])},setLoading(t,e){t.isLoading=e}},getters:{setProjects(t){return t.projects},projects(t){return t.projects},projectById(t){return e=>{return t.projects.find(t=>t.id==e)}}},actions:{async loadAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var o of e)t("addProjectMutation",o)}),t("setLoading",!1)},async addProjectAction({commit:t,state:e},o){const s=await _.add(o),a=await s.json(),r=e.projects.findIndex(t=>t["projectId"]===a["@projectId"]);console.log(r),t(r>-1?"updateProjectMutation":"addProjectMutation",a)},async updateProjectAction({commit:t},e){const o=await _.update(e);console.log(e);const s=await o.json();t("updateProjectMutation",s)},async removeProjectAction({commit:t},e){const o=await _.remove(e.projectId);o.ok&&t("removeProjectMutation",e)}}};s["a"].use(n["a"]);var Zt=new n["a"].Store({modules:{auth:yt,users:Jt,register:Wt,tasks:Xt,projects:Yt},state:{title:"Hello from store"},getters:{title(t){return t.title+"!!!"}}});s["a"].use(k["a"]);const te=(t,e,o)=>{Zt.getters.isAuthenticated?o("/"):o()},ee=(t,e,o)=>{console.log(Zt.getters.getToken),Zt.getters.isAuthenticated?o():o("/login")},oe=(t,e,o)=>{console.log("logout"),Zt.dispatch(gt),o()};var se=new k["a"]({mode:"history",routes:[{path:"/",name:"base",component:lt,beforeEnter:ee},{path:"/projects",name:"projects",component:O,beforeEnter:ee},{path:"/users",name:"users",component:lt,beforeEnter:ee},{path:"/tasks",name:"tasks",component:Ct,beforeEnter:ee},{path:"/project/:id",props:!0,name:"project",component:W,beforeEnter:ee},{path:"/new",name:"newUser",component:St,beforeEnter:te},{path:"/login",name:"Login",component:Gt,beforeEnter:te},{path:"/logout",name:"Logout",component:Gt,beforeEnter:oe}]}),ae=o("f309");s["a"].use(ae["a"]);var re=new ae["a"]({icons:{iconfont:"mdi"}}),ne=o("1dce"),ie=o.n(ne);s["a"].use(T["a"]),s["a"].use(ie.a),new s["a"]({router:se,store:Zt,vuetify:re,render:t=>t(x)}).$mount("#app")},b9f9:function(t,e,o){},fd06:function(t,e,o){}});
//# sourceMappingURL=app.7e15aca9.js.map