(function(t){function e(e){for(var o,n,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)n=i[u],s[n]&&p.push(s[n][0]),s[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},r=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"039a":function(t,e,a){"use strict";var o=a("fd06"),s=a.n(o);s.a},1:function(t,e){},"54d8":function(t,e,a){"use strict";var o=a("b9f9"),s=a.n(o);s.a},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:""}},[a("v-toolbar-title",[a("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("Каталог студентов")])],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},t._l(t.links,function(e){return a("v-btn",{key:e.title,attrs:{to:e.url,text:""}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),1)],1),a("v-content",[a("router-view")],1)],1)},r=[],n=a("2f62"),i={name:"App",data(){return{drawer:!0,links:[{title:"Home",icon:"home",url:"/"},{title:"Проекты",icon:"list",url:"/projects"},{title:"Задачи",icon:"fa-solid/tasks",url:"/tasks"},{title:"Студенты",icon:"supervised_user_circle",url:"/users"},{title:"Создать",icon:"create",url:"/new"},{title:"Выход",icon:"logout",url:"/logout"}]}},methods:{...Object(n["c"])(["AUTH_LOGOUT"])}},c=i,l=a("2877"),d=a("6544"),u=a.n(d),p=a("7496"),m=a("40dc"),v=a("8336"),g=a("a75b"),f=a("132d"),h=a("2fa4"),j=a("2a7f"),b=Object(l["a"])(c,s,r,!1,null,null,null),x=b.exports;u()(b,{VApp:p["a"],VAppBar:m["a"],VBtn:v["a"],VContent:g["a"],VIcon:f["a"],VSpacer:h["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});a("d1e7");var k=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},t._l(t.projects,function(e){return a("v-card",{key:e.projectId,staticClass:"elevation-10 mb-3"},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v(t._s(e.projectName))]),a("div",[t._v(" "+t._s(e.description)+" ")]),a("div",[t._v(" "+t._s(e.projectUrl)+" ")]),a("div",[t._v(" "+t._s(e.projectId)+" ")])])]),a("v-card-actions",[a("v-btn",{staticClass:"info",attrs:{to:"/project/"+e.projectId}},[t._v(" Открыть ")])],1)],1)}),1)],1)],1)},T=[],w=a("28dd");o["a"].use(w["a"]);const U="http://localhost:9000/api/projects";var _={get:()=>o["a"].resource(U+"/all").get(),add:t=>o["a"].resource(U+"/createProject{/id}").save({},t),update:t=>o["a"].resource(U+"/update").save(t),remove:t=>o["a"].resource(U+"/delete{/id}").remove({project_id:t})},C={methods:{next(){console.log("next()"),_.get().then(t=>{this.setProjects(t.body)}).catch(t=>{console.log(t)})},...Object(n["c"])(["addProjectMutation","setProjects"])},computed:{projects(){return this.$store.getters.projects}},created(){console.log("load projects ()"),this.next()}},V=C,I=a("b0af"),M=a("99d9"),L=a("a523"),A=a("0e8f"),P=a("a722"),O=Object(l["a"])(V,y,T,!1,null,null,null),E=O.exports;u()(O,{VBtn:v["a"],VCard:I["a"],VCardActions:M["a"],VCardTitle:M["c"],VContainer:L["a"],VFlex:A["a"],VLayout:P["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.isNull,expression:"isNull"}]},[a("v-card-text",[a("v-text-field",{attrs:{label:"id",readonly:""},model:{value:t.project.projectId,callback:function(e){t.$set(t.project,"projectId",e)},expression:"project.projectId"}}),a("v-text-field",{attrs:{label:"Адрес",readonly:""},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}}),a("v-text-field",{attrs:{label:"Название",readonly:""},model:{value:t.project.projectName,callback:function(e){t.$set(t.project,"projectName",e)},expression:"project.projectName"}}),a("v-text-field",{attrs:{label:"Адрес",readonly:""},model:{value:t.project.projectUrl,callback:function(e){t.$set(t.project,"projectUrl",e)},expression:"project.projectUrl"}})],1),a("v-card-actions",[a("v-spacer"),a("addEditProjectModal",{attrs:{project:t.project}}),a("v-btn",{staticClass:"success ml-1",on:{click:t.removeProject}},[t._v("\n                        Удалить\n                    ")])],1)],1)],1)],1)],1)},D=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"warning",attrs:{text:""}},o),[t._v("Изменить")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("v-card",[a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-title",[a("h3",{staticClass:"text--primary"},[t._v("Проект №"+t._s(this.project.projectId))])])],1)],1),a("v-divider"),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",[a("v-text-field",{attrs:{name:"projectName",label:"Наименование проекта",type:"text"},model:{value:t.editedName,callback:function(e){t.editedName=e},expression:"editedName"}}),a("v-text-field",{attrs:{name:"URL",label:"URL",type:"text"},model:{value:t.editedURL,callback:function(e){t.editedURL=e},expression:"editedURL"}}),a("v-text-field",{attrs:{name:"Description",label:"Описание",type:"text"},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1)],1),a("v-divider"),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("Отмена")]),a("v-btn",{staticClass:"success",attrs:{text:""},on:{click:t.onSave}},[t._v("Сохранить")])],1)],1)],1)],1)],1)],1)},$=[],R={props:["project"],data(){return{modal:!1,editedID:this.project["projectId"],editedDescription:this.project.description,editedURL:this.project.projectUrl,editedName:this.project.projectName}},methods:{...Object(n["b"])(["updateProjectAction"]),onCancel(){this.editedID=this.project.projectId,this.editedDescription=this.project.description,this.editedURL=this.project.projectUrl,this.editedName=this.project.projectName,this.modal=!1},onSave(){""!==this.editedID&&""!==this.editedURL&&""!==this.editedDescription&&(this.updateProjectAction({projectId:this.editedID,description:this.editedDescription,projectUrl:this.editedURL,projectName:this.editedName}),this.modal=!1)}}},N=R,F=a("169a"),B=a("ce7e"),Q=a("8654"),G=Object(l["a"])(N,H,$,!1,null,null,null),q=G.exports;u()(G,{VBtn:v["a"],VCard:I["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VContainer:L["a"],VDialog:F["a"],VDivider:B["a"],VFlex:A["a"],VLayout:P["a"],VSpacer:h["a"],VTextField:Q["a"]});var J={name:"project",props:["projectId"],computed:{project(){const t=this.projectId;return this.$store.getters.projectById(t)}},components:{addEditProjectModal:q},methods:{...Object(n["b"])(["removeProjectAction"]),removeProject(){console.log("removeProject()"),this.removeProjectAction(this.project),this.$router.push("/Projects")},isNull(){return null!==this.project}}},K=J,z=(a("54d8"),Object(l["a"])(K,S,D,!1,null,null,null)),W=z.exports;u()(z,{VBtn:v["a"],VCard:I["a"],VCardActions:M["a"],VCardText:M["b"],VContainer:L["a"],VFlex:A["a"],VLayout:P["a"],VSpacer:h["a"],VTextField:Q["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[a("v-list",{attrs:{flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.users,function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.email)}})],1)],1)}),1)],1),a("v-pagination",{attrs:{length:t.pagination.total,"total-visible":t.pagination.visible},on:{input:t.next},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},Y=[];o["a"].use(w["a"]);const Z="http://localhost:9000/api/users";var tt={count:()=>o["a"].resource(Z+"/count").get(),get:t=>o["a"].resource(Z+"/page/"+t+"/2").get(),add:t=>o["a"].resource(Z+"/create").save(t),update:t=>o["a"].resource(Z+"/update").update(t),remove:t=>o["a"].resource(Z+"/delete{/email}").remove({email:t})},et={name:"Users",data(){return{item:1,pagination:{page:2,total:4,perPage:20,visible:7}}},methods:{next(t){console.log("next()"),tt.get(t).then(t=>{this.setUsers(t.body)}).catch(t=>{console.log(t)})},...Object(n["c"])(["addUserMutation","updateUserMutation","removeUserMutation","emptyUsers","setUsers"]),...Object(n["b"])(["getUserCount"])},computed:{users(){return this.$store.getters.users}},created(){this.getUserCount(),this.emptyUsers(),this.pagination.total=1+~~(this.$store.getters.getUserCount/2),this.next(1)}},at=et,ot=a("8860"),st=a("da13"),rt=a("5d23"),nt=a("1baa"),it=a("891e"),ct=Object(l["a"])(at,X,Y,!1,null,"41bb2f97",null),lt=ct.exports;u()(ct,{VApp:p["a"],VCard:I["a"],VList:ot["a"],VListItem:st["a"],VListItemContent:rt["a"],VListItemGroup:nt["a"],VListItemSubtitle:rt["b"],VListItemTitle:rt["c"],VPagination:it["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[a("v-list",{attrs:{flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.tasks,function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}}),a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.id)}})],1)],1)}),1)],1),a("v-pagination",{attrs:{length:t.pagination.total,"total-visible":t.pagination.visible},on:{input:t.next},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)],1)],1)},ut=[];o["a"].use(w["a"]),o["a"].http.interceptors.push((t,e)=>{t.headers.set("sessionId","dae0a13e-3932-42e5-9b81-a51d9b74089b"),console.log(t),e()});const pt="http://localhost:9000/api/tasks";var mt={count:()=>o["a"].resource(pt+"/count").get(),get:t=>o["a"].resource(pt+"/page/"+t+"/2").get(),add:t=>o["a"].resource(pt+"/create").save(t),update:t=>o["a"].resource(pt+"/update").update(t),remove:t=>o["a"].resource(pt+"/delete{/id}").remove({id:t})},vt={name:"Tasks",data(){return{item:1,pagination:{page:2,total:4,perPage:20,visible:7}}},methods:{...Object(n["c"])(["addTaskMutation","updateTaskMutation","removeTaskMutation","emptyTasks","setTasks"]),...Object(n["b"])(["getTaskCount"]),next(t){console.log("next()"),mt.get(t).then(t=>{console.log("response"),console.log(t),this.setTasks(t.body)}).catch(t=>{console.log("error"),console.log(t)})}},computed:{tasks(){return this.$store.getters.tasks}},created(){this.getTaskCount(),this.emptyTasks(),this.pagination.total=1+~~(this.$store.getters.getTaskCount/2),this.next(1)}},gt=vt,ft=Object(l["a"])(gt,dt,ut,!1,null,"1edcb2ad",null),ht=ft.exports;u()(ft,{VApp:p["a"],VCard:I["a"],VList:ot["a"],VListItem:st["a"],VListItemContent:rt["a"],VListItemGroup:nt["a"],VListItemSubtitle:rt["b"],VListItemTitle:rt["c"],VPagination:it["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("h1",{staticClass:"text--secondary mb-3"},[t._v("Новый студент")]),a("v-form",{ref:"form",staticClass:"mb-3",attrs:{validation:""}},[a("v-text-field",{attrs:{name:"email",label:"email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{name:"gitHabId",label:"gitHabId",type:"text"},model:{value:t.gitHabId,callback:function(e){t.gitHabId=e},expression:"gitHabId"}}),a("v-text-field",{attrs:{name:"name",label:"name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{label:"Hours",type:"text",required:""},model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}}),a("v-text-field",{attrs:{name:"create_date",label:"create_date",type:"text"},model:{value:t.createDate,callback:function(e){t.createDate=e},expression:"createDate"}}),a("v-textarea",{attrs:{name:"update_date",label:"update_date",type:"text","multi-line":"",required:"",rules:[function(t){return!!t||"update_date is required"}]},model:{value:t.updateDate,callback:function(e){t.updateDate=e},expression:"updateDate"}})],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-spacer"),a("v-btn",{staticClass:"success",on:{click:t.save}},[t._v("\n                        Создать\n                    ")])],1)],1)],1)],1)],1)},bt=[],xt={name:"NewUser",data(){return{email:"",gitHabId:"",name:"",password:"",hours:0,createDate:"",updateDate:""}},methods:{...Object(n["b"])(["registerAction"]),save(){if(console.log("register()"),this.$refs.form.validate()){const t={email:this.email,password:this.password,createDate:this.createDate,gitHabId:this.gitHabId,hours:this.hours,name:this.name,updateDate:this.updateDate};this.registerAction(t,"user"),this.$router.push("/users")}}}},kt=xt,yt=a("4bd4"),Tt=a("a844"),wt=Object(l["a"])(kt,jt,bt,!1,null,"19ff1dd8",null),Ut=wt.exports;u()(wt,{VBtn:v["a"],VContainer:L["a"],VFlex:A["a"],VForm:yt["a"],VLayout:P["a"],VSpacer:h["a"],VTextField:Q["a"],VTextarea:Tt["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")]),a("div",{staticClass:"flex-grow-1"})],1),a("v-card-text",[a("v-form",{attrs:{id:"login-form"},on:{submit:function(e){return e.preventDefault(),t.doLogin(e)}}},[a("v-text-field",{attrs:{label:"Пользователь","prepend-icon":"person",type:"text"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),a("v-text-field",{attrs:{id:"password",label:"Пароль","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{text:"",href:"/new"}},[t._v("Register New User")]),a("v-btn",{attrs:{color:"primary",type:"submit",form:"login-form"}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)},Ct=[],Vt={name:"login",data(){return{login:"",password:""}},methods:{...Object(n["b"])(["AUTH_REQUEST"]),doLogin:function(){try{console.log("login: "+this.login+" "+this.password);const e={login:this.login,password:this.password};console.log(e),this.AUTH_REQUEST(e,"user").then(()=>{this.$router.push("/")}).catch(console.log("err"))}catch(t){console.log(t)}}}},It=Vt,Mt=(a("039a"),a("62ad")),Lt=a("0fd9"),At=a("71d9"),Pt=Object(l["a"])(It,_t,Ct,!1,null,null,null),Ot=Pt.exports;u()(Pt,{VApp:p["a"],VBtn:v["a"],VCard:I["a"],VCardActions:M["a"],VCardText:M["b"],VCol:Mt["a"],VContainer:L["a"],VContent:g["a"],VForm:yt["a"],VRow:Lt["a"],VTextField:Q["a"],VToolbar:At["a"],VToolbarTitle:j["b"]});const Et="AUTH_REQUEST",St="AUTH_SUCCESS",Dt="AUTH_ERROR",Ht="AUTH_LOGOUT";o["a"].use(w["a"]);const $t="http://localhost:9000/api/auth";var Rt={login:t=>o["a"].resource($t+"/login").save(t)};const Nt={token:localStorage.getItem("user-token")||"",status:"",hasLoadedOnce:!1},Ft={isAuthenticated:t=>!!t.token,authStatus:t=>t.status,getToken:t=>t.token},Bt={async AUTH_REQUEST({commit:t,state:e},a){try{console.log("AUTH_REQUEST action run");const s=await Rt.login(a);console.log("called");const r=await s.json();console.log(r),null!=r.sessionId?(console.log("session is not null"),localStorage.setItem("user-token",r),t(St,r)):(console.log("AUTH FAILED"),t(Dt,e),localStorage.removeItem("user-token"))}catch(o){console.log(o)}},[Ht]:({commit:t})=>{return new Promise(e=>{t(Ht),localStorage.removeItem("user-token"),e()})}},Qt={[Et]:t=>{console.log("AUTH_REQUEST mutation"),t.status="loading"},[St]:(t,e)=>{console.log("AUTH_SUCCESS mutation"),console.log(e),t.status="success",t.token=e,t.hasLoadedOnce=!0,console.log("AUTH_SUCCESS mutation OK")},[Dt]:t=>{console.log("AUTH_ERROR mutation"),t.status="error",t.hasLoadedOnce=!0},[Ht]:t=>{console.log("AUTH_LOGOUT mutation"),t.token=""}};var Gt={state:Nt,getters:Ft,actions:Bt,mutations:Qt},qt={state:{users:[],userCount:0},mutations:{setUsers(t,e){console.log("setUsers mutation"),t.users=e},emptyUsers(t){t.users=[]},createUser(t,e){t.users.push(e)},addUserMutation:function(t,e){console.log("addUserMutation"),t.users=[...t.users,e]},updateUserMutation(t,e){console.log("updateUserMutation");const a=t.users.findIndex(t=>t.email===e["email"]);t.users=[...t.users.slice(0,a),e,...t.users.slice(a+1)]},removeUserMutation(t,e){console.log("removeUserMutation");const a=t.users.findIndex(t=>t["email"]===e["@email"]);a>-1&&(t.users=[...t.users.slice(0,a),...t.users.slice(a+1)])},setUserCount(t,e){console.log("setUserCount mutation"),t.userCount=e}},actions:{async loadUsersAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var a of e)t("addUserMutation",a)}),t("setLoading",!1)},async addUserAction({commit:t,state:e},a){const o=await tt.add(a),s=await o.json(),r=e.users.findIndex(t=>t["id"]===s["@id"]);t(r>-1?"updateUserMutation":"addUserMutation",s)},async updateUserAction({commit:t},e){const a=await tt.update(e);console.log(e);const o=await a.json();t("updateUserMutation",o)},async removeUserAction({commit:t},e){const a=await tt.remove(e.email);a.ok&&t("removeUserMutation",e)},async getUserCount({commit:t}){console.log("getUserCount action");const e=await tt.count(),a=await e.json();t("setUserCount",a)}},getters:{getUserCount(t){return t.userCount},users(t){return t.users}}};o["a"].use(w["a"]);const Jt="http://localhost:9000/api/register";var Kt={register:t=>o["a"].resource(Jt+"/create").save(t)},zt={mutations:{registerMutation:function(t,e){console.log("registerMutation")}},actions:{async registerAction({commit:t},e){const a=await Kt.register(e),o=await a.json();t("registerMutation",o)}}},Wt={state:{tasks:[],taskCount:0},mutations:{setTasks(t,e){console.log("setTasks mutation"),t.tasks=e},emptyTasks(t){t.tasks=[]},createTask(t,e){t.tasks.push(e)},addTaskMutation:function(t,e){console.log("addTaskMutation"),t.tasks=[...t.tasks,e]},updateTaskMutation(t,e){console.log("updateTaskMutation");const a=t.tasks.findIndex(t=>t.id===e["id"]);t.tasks=[...t.tasks.slice(0,a),e,...t.tasks.slice(a+1)]},removeTaskMutation(t,e){console.log("removeTaskMutation");const a=t.tasks.findIndex(t=>t["id"]===e["@id"]);a>-1&&(t.tasks=[...t.tasks.slice(0,a),...t.tasks.slice(a+1)])},setTaskCount(t,e){console.log("setTaskCount mutation"),t.taskCount=e}},actions:{async loadTasksAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var a of e)t("addTaskMutation",a)}),t("setLoading",!1)},async addTaskAction({commit:t,state:e},a){const o=await mt.add(a),s=await o.json(),r=e.tasks.findIndex(t=>t["id"]===s["@id"]);t(r>-1?"updateTaskMutation":"addTaskMutation",s)},async updateTaskAction({commit:t},e){const a=await mt.update(e);console.log(e);const o=await a.json();t("updateTaskMutation",o)},async removeTaskAction({commit:t},e){const a=await mt.remove(e.id);a.ok&&t("removeTaskMutation",e)},async getTaskCount({commit:t}){console.log("getTaskCount action");const e=await mt.count(),a=await e.json();t("setTaskCount",a)}},getters:{getTaskCount(t){return t.taskCount},tasks(t){return t.tasks}}},Xt={state:{projects:[],isLoading:!1,resource:{}},mutations:{setProjects(t,e){console.log("setProjects mutation"),t.projects=e},createProject(t,e){t.projects.push(e)},addProjectMutation:function(t,e){console.log("addProjectMutation"),t.projects=[...t.projects,e]},updateProjectMutation(t,e){console.log("updateProjectMutation");const a=t.projects.findIndex(t=>t.id===e["id"]);t.projects=[...t.projects.slice(0,a),e,...t.projects.slice(a+1)]},removeProjectMutation(t,e){console.log("removeProjectMutation");const a=t.projects.findIndex(t=>t["id"]===e["id"]);a>-1&&(t.projects=[...t.projects.slice(0,a),...t.projects.slice(a+1)])},setLoading(t,e){t.isLoading=e}},getters:{setProjects(t){return t.projects},projects(t){return t.projects},projectById(t){return e=>{return t.projects.find(t=>t.id==e)}}},actions:{async loadAction({commit:t}){t("setLoading",!0),await this.state.resource.get().then(t=>t.json()).then(e=>{for(var a of e)t("addProjectMutation",a)}),t("setLoading",!1)},async addProjectAction({commit:t,state:e},a){const o=await _.add(a),s=await o.json(),r=e.projects.findIndex(t=>t["projectId"]===s["@projectId"]);console.log(r),t(r>-1?"updateProjectMutation":"addProjectMutation",s)},async updateProjectAction({commit:t},e){const a=await _.update(e);console.log(e);const o=await a.json();t("updateProjectMutation",o)},async removeProjectAction({commit:t},e){const a=await _.remove(e.projectId);a.ok&&t("removeProjectMutation",e)}}};o["a"].use(n["a"]);var Yt=new n["a"].Store({modules:{auth:Gt,users:qt,register:zt,tasks:Wt,projects:Xt},state:{title:"Hello from store"},getters:{title(t){return t.title+"!!!"}}});o["a"].use(k["a"]);const Zt=(t,e,a)=>{Yt.getters.isAuthenticated?a("/"):a()},te=(t,e,a)=>{console.log(Yt.getters.getToken),Yt.getters.isAuthenticated?a():a("/login")},ee=(t,e,a)=>{console.log("logout"),Yt.dispatch(Ht),a()};var ae=new k["a"]({mode:"history",routes:[{path:"/",name:"base",component:E,beforeEnter:te},{path:"/projects",name:"projects",component:E,beforeEnter:te},{path:"/users",name:"users",component:lt,beforeEnter:te},{path:"/tasks",name:"tasks",component:ht,beforeEnter:te},{path:"/project/:id",props:!0,name:"project",component:W,beforeEnter:te},{path:"/new",name:"newUser",component:Ut,beforeEnter:Zt},{path:"/login",name:"Login",component:Ot,beforeEnter:Zt},{path:"/logout",name:"Logout",component:Ot,beforeEnter:ee}]}),oe=a("f309");o["a"].use(oe["a"]);var se=new oe["a"]({icons:{iconfont:"mdi"}});o["a"].use(w["a"]),new o["a"]({router:ae,store:Yt,vuetify:se,render:t=>t(x)}).$mount("#app")},b9f9:function(t,e,a){},fd06:function(t,e,a){}});
//# sourceMappingURL=app.c52d6722.js.map